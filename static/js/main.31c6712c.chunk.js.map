{"version":3,"sources":["panels/components/TodoItem.js","panels/components/TodoList.js","panels/components/AddTodo.js","panels/Home.js","panels/Persik.js","App.js","index.js","img/persik.png"],"names":["style","display","justifyContent","alignItems","padding","border","borderRadius","marginBottom","TodoItem","todo","index","onChange","removeTodo","classes","completed","push","onClick","id","className","join","title","listStyle","margin","TodoList","todos","onToggle","map","key","styles","form","input","fontSize","marginRight","AddTodo","onCreate","useState","value","setValue","onSubmit","event","preventDefault","trim","target","type","Home","go","fetchedUser","toggleTodo","addTodo","loading","before","photo_200","src","description","city","first_name","last_name","length","size","level","data-to","osName","platform","Persik","props","left","IOS","persik","alt","App","activePanel","setActivePanel","setUser","setLoading","useEffect","a","bridge","send","user","subscribe","detail","data","schemeAttribute","document","createAttribute","scheme","body","attributes","setNamedItem","fetchData","e","currentTarget","dataset","to","setTodos","fetch","then","response","json","popout","filter","concat","Date","now","ReactDOM","render","getElementById","module","exports"],"mappings":"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","file":"static/js/main.31c6712c.chunk.js","sourcesContent":["import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nconst style = {\r\n  display: \"flex\",\r\n  justifyContent: \"space-between\",\r\n  alignItems: \"center\",\r\n  padding: \".5rem 1rem\",\r\n  border: \"1px solid #ccc\",\r\n  borderRadius: \"4px\",\r\n  marginBottom: \".5rem\",\r\n};\r\n\r\nfunction TodoItem({ todo, index, onChange, removeTodo }) {\r\n  const classes = [];\r\n\r\n  if (todo.completed) {\r\n    classes.push(\"done\");\r\n  }\r\n  return (\r\n    <li style={style}>\r\n      <span onClick={() => onChange(todo.id)} className={classes.join(\" \")}>\r\n        <strong>{++index}</strong>\r\n        &nbsp;\r\n        {todo.title}\r\n      </span>\r\n      <button onClick={() => removeTodo(todo.id)}>&times;</button>\r\n    </li>\r\n  );\r\n}\r\n\r\nTodoItem.propTypes = {\r\n  todo: PropTypes.object.isRequired,\r\n  index: PropTypes.number,\r\n  onChange: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default TodoItem;\r\n","import React from \"react\";\r\nimport TodoItem from \"./TodoItem\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nconst style = {\r\n  listStyle: \"none\",\r\n  margin: 0,\r\n  padding: 0,\r\n};\r\n\r\nfunction TodoList({ todos, onToggle, removeTodo }) {\r\n  return (\r\n    <ul style={style}>\r\n      {todos.map((todo, index) => {\r\n        return (\r\n          <TodoItem\r\n            todo={todo}\r\n            key={todo.id}\r\n            index={index}\r\n            onChange={onToggle}\r\n            removeTodo={removeTodo}\r\n          />\r\n        );\r\n      })}\r\n    </ul>\r\n  );\r\n}\r\n\r\nTodoList.propTypes = {\r\n  todos: PropTypes.arrayOf(PropTypes.object).isRequired,\r\n  onToggle: PropTypes.func.isRequired,\r\n  removeTodo: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default TodoList;\r\n","import React, { useState } from \"react\";\r\nimport { Input } from \"@vkontakte/vkui\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nconst styles = {\r\n  form: {\r\n    display: \"flex\",\r\n    justifyContent: \"space-between\",\r\n    alignItems: \"center\",\r\n    padding: \".5rem 1rem\",\r\n    marginBottom: \".5rem\",\r\n  },\r\n  input: {\r\n    fontSize: \"16px\",\r\n    marginRight: \".5rem\",\r\n  },\r\n};\r\n\r\nfunction AddTodo({ onCreate }) {\r\n  const [value, setValue] = useState(\"\");\r\n  function submitHandler(event) {\r\n    event.preventDefault();\r\n\r\n    if (value.trim()) {\r\n      onCreate(value);\r\n      setValue(\"\");\r\n    }\r\n  }\r\n\r\n  return (\r\n    <form style={styles.form} onSubmit={submitHandler}>\r\n      <Input\r\n        style={styles.input}\r\n        value={value}\r\n        onChange={(event) => setValue(event.target.value)}\r\n      />\r\n      <button type=\"submit\" style={{ fontSize: \"16px\" }}>\r\n        Add Task\r\n      </button>\r\n    </form>\r\n  );\r\n}\r\n\r\nAddTodo.propTypes = {\r\n  onCreate: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default AddTodo;\r\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport Panel from \"@vkontakte/vkui/dist/components/Panel/Panel\";\nimport PanelHeader from \"@vkontakte/vkui/dist/components/PanelHeader/PanelHeader\";\nimport Button from \"@vkontakte/vkui/dist/components/Button/Button\";\nimport Group from \"@vkontakte/vkui/dist/components/Group/Group\";\nimport Cell from \"@vkontakte/vkui/dist/components/Cell/Cell\";\nimport Div from \"@vkontakte/vkui/dist/components/Div/Div\";\nimport Avatar from \"@vkontakte/vkui/dist/components/Avatar/Avatar\";\n\nimport \"./Home.css\";\nimport TodoList from \"./components/TodoList\";\nimport AddTodo from \"./components/AddTodo\";\n\nconst Home = ({\n  id,\n  go,\n  fetchedUser,\n  todos,\n  toggleTodo,\n  removeTodo,\n  addTodo,\n  loading,\n}) => (\n  <Panel id={id}>\n    <PanelHeader>Example</PanelHeader>\n    {fetchedUser && (\n      <Group title=\"User Data Fetched with VK Bridge\">\n        <Cell\n          before={\n            fetchedUser.photo_200 ? (\n              <Avatar src={fetchedUser.photo_200} />\n            ) : null\n          }\n          description={\n            fetchedUser.city && fetchedUser.city.title\n              ? fetchedUser.city.title\n              : \"\"\n          }\n        >\n          {`${fetchedUser.first_name} ${fetchedUser.last_name}`}\n        </Cell>\n      </Group>\n    )}\n\n    {/* TODO */}\n    <Div className=\"wrapper\">\n      <AddTodo onCreate={addTodo} />\n      {todos.length ? (\n        <TodoList todos={todos} onToggle={toggleTodo} removeTodo={removeTodo} />\n      ) : loading ? null : (\n        <p>No tasks :3</p>\n      )}\n    </Div>\n\n    <Group title=\"Navigation Example\">\n      <Div>\n        <Button size=\"xl\" level=\"2\" onClick={go} data-to=\"persik\">\n          Show me the Persik, please\n        </Button>\n      </Div>\n    </Group>\n  </Panel>\n);\n\nHome.propTypes = {\n  id: PropTypes.string.isRequired,\n  go: PropTypes.func.isRequired,\n  fetchedUser: PropTypes.shape({\n    photo_200: PropTypes.string,\n    first_name: PropTypes.string,\n    last_name: PropTypes.string,\n    city: PropTypes.shape({\n      title: PropTypes.string,\n    }),\n  }),\n};\n\nexport default Home;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { platform, IOS } from '@vkontakte/vkui';\nimport Panel from '@vkontakte/vkui/dist/components/Panel/Panel';\nimport PanelHeader from '@vkontakte/vkui/dist/components/PanelHeader/PanelHeader';\nimport PanelHeaderButton from '@vkontakte/vkui/dist/components/PanelHeaderButton/PanelHeaderButton';\nimport Icon28ChevronBack from '@vkontakte/icons/dist/28/chevron_back';\nimport Icon24Back from '@vkontakte/icons/dist/24/back';\n\nimport persik from '../img/persik.png';\nimport './Persik.css';\n\nconst osName = platform();\n\nconst Persik = props => (\n\t<Panel id={props.id}>\n\t\t<PanelHeader\n\t\t\tleft={<PanelHeaderButton onClick={props.go} data-to=\"home\">\n\t\t\t\t{osName === IOS ? <Icon28ChevronBack/> : <Icon24Back/>}\n\t\t\t</PanelHeaderButton>}\n\t\t>\n\t\t\tPersik\n\t\t</PanelHeader>\n\t\t<img className=\"Persik\" src={persik} alt=\"Persik The Cat\"/>\n\t</Panel>\n);\n\nPersik.propTypes = {\n\tid: PropTypes.string.isRequired,\n\tgo: PropTypes.func.isRequired,\n};\n\nexport default Persik;\n","import React, { useState, useEffect } from \"react\";\nimport bridge from \"@vkontakte/vk-bridge\";\nimport View from \"@vkontakte/vkui/dist/components/View/View\";\nimport ScreenSpinner from \"@vkontakte/vkui/dist/components/ScreenSpinner/ScreenSpinner\";\nimport \"@vkontakte/vkui/dist/vkui.css\";\n\nimport Home from \"./panels/Home\";\nimport Persik from \"./panels/Persik\";\n\nconst App = () => {\n  const [activePanel, setActivePanel] = useState(\"home\");\n  const [fetchedUser, setUser] = useState(null);\n  const [loading, setLoading] = useState(<ScreenSpinner size=\"large\" />);\n\n  useEffect(() => {\n    bridge.subscribe(({ detail: { type, data } }) => {\n      if (type === \"VKWebAppUpdateConfig\") {\n        const schemeAttribute = document.createAttribute(\"scheme\");\n        schemeAttribute.value = data.scheme ? data.scheme : \"client_light\";\n        document.body.attributes.setNamedItem(schemeAttribute);\n      }\n    });\n    async function fetchData() {\n      const user = await bridge.send(\"VKWebAppGetUserInfo\");\n      setUser(user);\n      setLoading(null);\n    }\n    fetchData();\n  }, []);\n\n  const go = (e) => {\n    setActivePanel(e.currentTarget.dataset.to);\n  };\n\n  /* TODO */\n  const [todos, setTodos] = useState([]);\n\n  useEffect(() => {\n    fetch(\"https://jsonplaceholder.typicode.com/todos?_limit=10\")\n      .then((response) => response.json())\n      .then((todos) => {\n        setTodos(todos);\n        setLoading(null);\n      });\n  }, []);\n\n  function toggleTodo(id) {\n    setTodos(\n      todos.map((todo) => {\n        if (todo.id === id) {\n          todo.completed = !todo.completed;\n        }\n        return todo;\n      })\n    );\n  }\n\n  function removeTodo(id) {\n    setTodos(todos.filter((todo) => todo.id !== id));\n  }\n\n  function addTodo(title) {\n    setTodos(\n      todos.concat([\n        {\n          title,\n          id: Date.now,\n          completed: false,\n        },\n      ])\n    );\n  }\n\n  return (\n    <View activePanel={activePanel} popout={loading}>\n      <Home\n        id=\"home\"\n        fetchedUser={fetchedUser}\n        go={go}\n        todos={todos}\n        toggleTodo={toggleTodo}\n        removeTodo={removeTodo}\n        addTodo={addTodo}\n        loading={loading}\n      />\n\n      <Persik id=\"persik\" go={go} />\n    </View>\n  );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport bridge from \"@vkontakte/vk-bridge\";\nimport App from \"./App\";\n\n// Init VK  Mini App\nbridge.send(\"VKWebAppInit\");\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\nif (process.env.NODE_ENV === \"development\") {\n  import(\"./eruda\").then(({ default: eruda }) => {}); //runtime download\n}\n","module.exports = __webpack_public_path__ + \"static/media/persik.4e1ec840.png\";"],"sourceRoot":""}