(this["webpackJsonpvk-app"]=this["webpackJsonpvk-app"]||[]).push([[0],{138:function(e,t,n){e.exports=n(188)},145:function(e,t,n){},176:function(e,t,n){},188:function(e,t,n){"use strict";n.r(t);var a=n(1),o=n.n(a),c=n(41),r=n.n(c),i=n(28),l=n.n(i),s=n(42),u=n.n(s),d=n(50),m=n(11),p=n(36),f=n.n(p),b=(n(144),n(37)),E=n.n(b),v=n(38),g=n.n(v),h=n(54),k=n.n(h),j=n(43),y=n.n(j),I=n(52),O=n.n(I),C=n(32),S=n.n(C),x=n(53),w=n.n(x),P=n(51),T=n.n(P);n(145);var A=function(e){var t=e.id,c=e.fetchedUser,r=e.go,i=e.setActivePanel,l=e.data,s=e.db,u=e.findDocumentById;!function(e){e.id;s.collection("notes").doc("1BkXPAiu9cP3DYWgAD7P").get().then((function(e){e.exists?(e.data().notes1?(C(e.data().notes1),l.notes1=e.data().notes1):C("\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"),e.data().notes2?(D(e.data().notes2),l.notes2=e.data().notes2):D("\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"),e.data().notes3?(U(e.data().notes3),l.notes3=e.data().notes3):U("\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"),e.data().notes4?(_(e.data().notes4),l.notes4=e.data().notes4):_("\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c")):console.log("No such document!"),v(null)}))}("1");var d=Object(a.useState)(o.a.createElement(T.a,{size:"large"})),p=Object(m.a)(d,2),b=p[0],v=p[1],h=Object(a.useState)(""),j=Object(m.a)(h,2),I=j[0],C=j[1],x=Object(a.useState)(""),P=Object(m.a)(x,2),A=P[0],D=P[1],B=Object(a.useState)(""),N=Object(m.a)(B,2),z=N[0],U=N[1],K=Object(a.useState)(""),V=Object(m.a)(K,2),W=V[0],_=V[1];c?(u(c.id),alert(c.id)):u("0"),setTimeout((function(){alert(l.docId)}),3e3);var R=o.a.lazy((function(){return new Promise((function(e){!function e(t,n){t?n():setTimeout((function(){e(n)}),100)}(I,e(n.e(3).then(n.bind(null,189))))}))}));function G(e){var t=e.notesId;console.log("NotesId: "+t),i("persik")}return o.a.createElement(f.a,{activePanel:t,popout:b},o.a.createElement(E.a,{id:t},o.a.createElement(g.a,null,"Example"),c&&o.a.createElement(y.a,{title:"User Data Fetched with VK Bridge"},o.a.createElement(O.a,{before:c.photo_200?o.a.createElement(w.a,{src:c.photo_200}):null,description:c.city&&c.city.title?c.city.title:""},"".concat(c.first_name," ").concat(c.last_name))),o.a.createElement(S.a,{className:"wrapper"},o.a.createElement(o.a.Suspense,{fallback:o.a.createElement("div",null)},o.a.createElement(R,{notesId:1,title:I.split("\u20aa")[0],onClick:G}),o.a.createElement(R,{notesId:2,title:A,onClick:G}),o.a.createElement(R,{notesId:3,title:z,onClick:G}),o.a.createElement(R,{notesId:4,title:W,onClick:G}))),o.a.createElement(y.a,{title:"Navigation Example"},o.a.createElement(S.a,null,o.a.createElement(k.a,{size:"xl",level:"2",onClick:r,"data-to":"persik"},"Show me the Persik, please")))))},D=n(33),B=n(58),N=n.n(B),z=n(55),U=n.n(z),K=n(56),V=n.n(K),W=n(57),_=n.n(W),R=(n(176),{display:"flex",justifyContent:"space-between",alignItems:"center",padding:".5rem 1rem",border:"1px solid #ccc",borderRadius:"4px",marginBottom:".5rem"});var G=function(e){var t=e.todo,n=e.index,a=e.onChange,c=e.removeTodo,r=[];return t.completed&&r.push("done"),o.a.createElement("li",{style:R},o.a.createElement("span",{onClick:function(){return a(t.id)},className:r.join(" ")},o.a.createElement("strong",null,++n),"\xa0",t.title),o.a.createElement("button",{onClick:function(){return c(t.id)}},"\xd7"))},J={listStyle:"none",margin:0,padding:0};var L=function(e){var t=e.todos,n=e.onToggle,a=e.removeTodo;return o.a.createElement("ul",{style:J},t.map((function(e,t){return o.a.createElement(G,{todo:e,key:e.id,index:t,onChange:n,removeTodo:a})})))},Q={form:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:".5rem 1rem",marginBottom:".5rem"},input:{fontSize:"16px",marginRight:".5rem"}};var X=function(e){var t=e.onCreate,n=Object(a.useState)(""),c=Object(m.a)(n,2),r=c[0],i=c[1];return o.a.createElement("form",{style:Q.form,onSubmit:function(e){e.preventDefault(),r.trim()&&(t(r),i(""))}},o.a.createElement(D.b,{style:Q.input,value:r,onChange:function(e){return i(e.target.value)}}),o.a.createElement("button",{type:"submit",style:{fontSize:"16px"}},"Add Task"))},Y=Object(D.c)();var F=function(e){var t=e.go,n=e.data,c=n.notes1,r=(n.notes2,n.notes3,n.notes4,Object(a.useState)(c.split("\u20aa").slice(1).map((function(e){return{title:e,id:Date.now()+e,completed:!1}})))),i=Object(m.a)(r,2),l=i[0],s=i[1];return o.a.createElement(E.a,{id:"persik"},o.a.createElement(g.a,{left:o.a.createElement(N.a,{onClick:t,"data-to":"home"},Y===D.a?o.a.createElement(U.a,null):o.a.createElement(V.a,null))},"Persik"),o.a.createElement(S.a,{className:"wrapper"},o.a.createElement(X,{onCreate:function(e){s(l.concat([{title:e,id:Date.now(),completed:!1}]))}}),l.length?o.a.createElement(L,{todos:l,onToggle:function(e){s(l.map((function(t){return t.id===e&&(t.completed=!t.completed),t})))},removeTodo:function(e){s(l.filter((function(t){return t.id!==e})))}}):o.a.createElement("p",null,"No tasks :3")),o.a.createElement("img",{className:"Persik",src:_.a,alt:"Persik The Cat"}))},M={},q=(n(44),n(59)),H=n.n(q).a.initializeApp({apiKey:"AIzaSyDiGB3YzRvrL0VQ3g2IXbMPWc7xCfn9ITQ",authDomain:"vk-app-notes.firebaseapp.com",databaseURL:"https://vk-app-notes.firebaseio.com",projectId:"vk-app-notes",storageBucket:"vk-app-notes.appspot.com",messagingSenderId:"440873597069",appId:"1:440873597069:web:971c8ee7d93805e2484ac4"}).firestore(),Z=H.collection("notes");function $(e){Z.onSnapshot((function(t){t.forEach((function(t){t.data().id===e&&(M.docId=t.id,console.log(M.docId))}))}))}var ee=function(){var e=Object(a.useState)("home"),t=Object(m.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(null),i=Object(m.a)(r,2),s=i[0],p=i[1];Object(a.useEffect)((function(){function e(){return(e=Object(d.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a.send("VKWebAppGetUserInfo");case 2:t=e.sent,p(t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}l.a.subscribe((function(e){var t=e.detail,n=t.type,a=t.data;if("VKWebAppUpdateConfig"===n){var o=document.createAttribute("scheme");o.value=a.scheme?a.scheme:"client_light",document.body.attributes.setNamedItem(o)}})),function(){e.apply(this,arguments)}()}),[]);var b=function(e){c(e.currentTarget.dataset.to)};return o.a.createElement(f.a,{activePanel:n},o.a.createElement(A,{id:"home",fetchedUser:s,go:b,activePanel:n,setActivePanel:c,data:M,db:H,findDocumentById:$}),o.a.createElement(F,{id:"persik",go:b,data:M}))};l.a.send("VKWebAppInit"),r.a.render(o.a.createElement(ee,null),document.getElementById("root"))},57:function(e,t,n){e.exports=n.p+"static/media/persik.4e1ec840.png"}},[[138,1,2]]]);
//# sourceMappingURL=main.feb04739.chunk.js.map