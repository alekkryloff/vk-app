(this["webpackJsonpvk-app"]=this["webpackJsonpvk-app"]||[]).push([[0],{129:function(e,t,n){e.exports=n(168)},136:function(e,t,n){},159:function(e,t,n){},168:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=n(32),c=n.n(r),i=n(22),l=n.n(i),u=n(26),s=n.n(u),m=n(33),d=n(20),p=n(50),f=n.n(p),g=n(49),h=n.n(g),E=(n(135),n(28)),b=n.n(E),v=n(29),j=n.n(v),y=n(44),k=n.n(y),x=n(34),O=n.n(x),T=n(42),C=n.n(T),w=n(35),S=n.n(w),I=n(43),N=n.n(I),_=(n(136),{display:"flex",justifyContent:"space-between",alignItems:"center",padding:".5rem 1rem",border:"1px solid #ccc",borderRadius:"4px",marginBottom:".5rem"});var A=function(e){var t=e.todo,n=e.index,a=e.onChange,r=e.removeTodo,c=[];return t.completed&&c.push("done"),o.a.createElement("li",{style:_},o.a.createElement("span",{onClick:function(){return a(t.id)},className:c.join(" ")},o.a.createElement("strong",null,++n),"\xa0",t.title),o.a.createElement("button",{onClick:function(){return r(t.id)}},"\xd7"))},P={listStyle:"none",margin:0,padding:0};var U=function(e){var t=e.todos,n=e.onToggle,a=e.removeTodo;return o.a.createElement("ul",{style:P},t.map((function(e,t){return o.a.createElement(A,{todo:e,key:e.id,index:t,onChange:n,removeTodo:a})})))},z=n(25),B={form:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:".5rem 1rem",marginBottom:".5rem"},input:{fontSize:"16px",marginRight:".5rem"}};var K=function(e){var t=e.onCreate,n=Object(a.useState)(""),r=Object(d.a)(n,2),c=r[0],i=r[1];return o.a.createElement("form",{style:B.form,onSubmit:function(e){e.preventDefault(),c.trim()&&(t(c),i(""))}},o.a.createElement(z.b,{style:B.input,value:c,onChange:function(e){return i(e.target.value)}}),o.a.createElement("button",{type:"submit",style:{fontSize:"16px"}},"Add Task"))},V=function(e){var t=e.id,n=e.go,a=e.fetchedUser,r=e.todos,c=e.toggleTodo,i=e.removeTodo,l=e.addTodo,u=e.loading;return o.a.createElement(b.a,{id:t},o.a.createElement(j.a,null,"Example"),a&&o.a.createElement(O.a,{title:"User Data Fetched with VK Bridge"},o.a.createElement(C.a,{before:a.photo_200?o.a.createElement(N.a,{src:a.photo_200}):null,description:a.city&&a.city.title?a.city.title:""},"".concat(a.first_name," ").concat(a.last_name))),o.a.createElement(S.a,{className:"wrapper"},o.a.createElement(K,{onCreate:l}),r.length?o.a.createElement(U,{todos:r,onToggle:c,removeTodo:i}):u?null:o.a.createElement("p",null,"No tasks :3")),o.a.createElement(O.a,{title:"Navigation Example"},o.a.createElement(S.a,null,o.a.createElement(k.a,{size:"xl",level:"2",onClick:n,"data-to":"persik"},"Show me the Persik, please"))))},D=n(48),W=n.n(D),J=n(45),R=n.n(J),F=n(46),G=n.n(F),q=n(47),H=n.n(q),L=(n(159),Object(z.c)()),M=function(e){return o.a.createElement(b.a,{id:e.id},o.a.createElement(j.a,{left:o.a.createElement(W.a,{onClick:e.go,"data-to":"home"},L===z.a?o.a.createElement(R.a,null):o.a.createElement(G.a,null))},"Persik"),o.a.createElement("img",{className:"Persik",src:H.a,alt:"Persik The Cat"}))},Q=function(){var e=Object(a.useState)("home"),t=Object(d.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)(null),i=Object(d.a)(c,2),u=i[0],p=i[1],g=Object(a.useState)(o.a.createElement(h.a,{size:"large"})),E=Object(d.a)(g,2),b=E[0],v=E[1];Object(a.useEffect)((function(){function e(){return(e=Object(m.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a.send("VKWebAppGetUserInfo");case 2:t=e.sent,p(t),v(null);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}l.a.subscribe((function(e){var t=e.detail,n=t.type,a=t.data;if("VKWebAppUpdateConfig"===n){var o=document.createAttribute("scheme");o.value=a.scheme?a.scheme:"client_light",document.body.attributes.setNamedItem(o)}})),function(){e.apply(this,arguments)}()}),[]);var j=function(e){r(e.currentTarget.dataset.to)};function y(){return(y=Object(m.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(a.useEffect)((function(){fetch("https://jsonip.com/").then((function(e){return e.json()})).then((function(e){var t=e.ip;console.log(t)}))}),[]),function(){y.apply(this,arguments)}();var k=Object(a.useState)([]),x=Object(d.a)(k,2),O=x[0],T=x[1];return Object(a.useEffect)((function(){fetch("https://jsonplaceholder.typicode.com/todos?_limit=10").then((function(e){return e.json()})).then((function(e){T(e),v(null)}))}),[]),o.a.createElement(f.a,{activePanel:n,popout:b},o.a.createElement(V,{id:"home",fetchedUser:u,go:j,todos:O,toggleTodo:function(e){T(O.map((function(t){return t.id===e&&(t.completed=!t.completed),t})))},removeTodo:function(e){T(O.filter((function(t){return t.id!==e})))},addTodo:function(e){T(O.concat([{title:e,id:Date.now,completed:!1}]))},loading:b}),o.a.createElement(M,{id:"persik",go:j}))};l.a.send("VKWebAppInit"),c.a.render(o.a.createElement(Q,null),document.getElementById("root"))},47:function(e,t,n){e.exports=n.p+"static/media/persik.4e1ec840.png"}},[[129,1,2]]]);
//# sourceMappingURL=main.364e2b32.chunk.js.map